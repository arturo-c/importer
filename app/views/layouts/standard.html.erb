<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>AllPlayers.com, Inc. Import Manager</title>
  <%= stylesheet_link_tag "style" %>
  <%= javascript_include_tag :defaults %>
  <%= javascript_include_tag 'doclist' %>
</head>
<body>

<% if flash[:notice] -%>
  <p class="notice"><%= flash[:notice] %></p>
<% end -%>

<div id="container">
	<div id="header">
    <% if !session[:token].nil? -%><div style="float:right;">
      <div style="float:left"><h1><%= session[:apci_session] %></h1></div>
      <div><small><% api_link_txt = '<span class="google"><span>G</span><span>o</span><span>o</span><span>g</span><span>l</span><span>e</span></span> Docs' -%>
    <%= link_to api_link_txt, 'http://code.google.com/apis/documents/', :target => '_new' -%></small></div>
      <div><%= link_to('Logout', :action=> 'logout') %></div>
      </div>
    <% end -%>
    
		<h2>AllPlayers.com Import Manager</h2>
      
    <div id="navbar">
      <% if false %><!-- start erb comment -->
      <%= link_to_remote(image_tag("icon_#{ApplicationController::DOCUMENT_DOC_TYPE}.gif") + 'Documents',
        :url => {:action=> "#{ApplicationController::DOCUMENT_DOC_TYPE}s"},
        :update => 'documents_data',
        :loading=> "setDocsListLoadingMsg('documents_data', 'loading word documents...')")
      %>
      <!-- end erb comment --><% end %>
      <%= link_to_remote(image_tag("icon_#{ApplicationController::SPREADSHEET_DOC_TYPE}.gif") + 'Spreadsheets',
        :url => {:action=> "#{ApplicationController::SPREADSHEET_DOC_TYPE}s"},
        :update => 'documents_data',
        :loading=> "setDocsListLoadingMsg('documents_data', 'loading spreadsheets...')")
      %>
      <% if false %><!-- start erb comment -->
      <%= link_to_remote(image_tag("icon_#{ApplicationController::PRESO_DOC_TYPE}.gif") + 'Presentations',
        :url => {:action=> "#{ApplicationController::PRESO_DOC_TYPE}s"},
        :update => 'documents_data',
        :loading=> "setDocsListLoadingMsg('documents_data', 'loading presentations...')")
      %>
      <%= link_to_remote(image_tag("icon_#{ApplicationController::PDF_DOC_TYPE}.gif", :border => '0') + 'PDFs',
        :url => {:action=> "#{ApplicationController::PDF_DOC_TYPE}s"},
        :update => 'documents_data',
        :loading=> "setDocsListLoadingMsg('documents_data', 'loading pdfs...')")
      %>
      <!-- end erb comment --><% end %>
      <%= link_to_remote(image_tag("icon_#{ApplicationController::FOLDER_DOC_TYPE}.gif", :border => '0') + 'Folders',
        :url => {:action=> "#{ApplicationController::FOLDER_DOC_TYPE}s"},
        :update => 'documents_data',
        :loading=> "setDocsListLoadingMsg('documents_data', 'loading folders...')")
      %>
      <% if false %><!-- start erb comment -->
      <%= link_to_remote(image_tag("icon_#{ApplicationController::STARRED_LABEL}.png", :border => '0') + 'Starred',
        :url => {:action=> ApplicationController::STARRED_LABEL},
        :update => 'documents_data',
        :loading=> "setDocsListLoadingMsg('documents_data', 'loading starred docs...')")
      %>
      <%= link_to_remote(image_tag("icon_#{ApplicationController::TRASHED_LABEL}.png", :border => '0') + 'Trashed',
        :url => {:action=> ApplicationController::TRASHED_LABEL},
        :update => 'documents_data',
        :loading=> "setDocsListLoadingMsg('documents_data', 'loading trashed docs...')")
      %>
      <!-- end erb comment --><% end %>
    </div>
	</div>

	<div id="content">
    <% if session[:token].nil? -%>
      <%= 'AuthSub session token: ' + session[:token] if session[:token] %>
      <%= link_to('Authorize this website', @authsub_link) %>
    <% else -%>
	    <%= yield -%>
	    <div id="doc_preview">Select a document to view</div>
    <% end -%>
  </div>
</div>

</body>
</html>